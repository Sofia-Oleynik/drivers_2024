# Символьный драйвер устройства с таймером

Этот проект представляет собой символьный драйвер устройства для Linux, который использует таймер для периодического увеличения глобальной переменной. Драйвер также позволяет пользователю записывать значение в глобальную переменную и управлять таймером через специальные файлы устройства.

## Описание

Драйвер создает символьное устройство, которое позволяет выполнять следующие действия:

- Чтение и запись значения глобальной переменной.
- Запуск и остановка таймера.
- Сброс глобальной переменной.

## Функции

Драйвер предоставляет следующие функции:

- open: Открывает устройство и выводит сообщение в журнал.
- release: Закрывает устройство и выводит сообщение в журнал.
- read: Читает текущее значение глобальной переменной и возвращает его пользователю.
- write: Записывает значение в глобальную переменную.
- start_timer: Запускает таймер, который каждую секунду увеличивает глобальную переменную.
- stop_timer: Останавливает работающий таймер.
- reset_var: Сбрасывает значение глобальной переменной до нуля.

## Установка и использование

1. Скомпилировать модуль:
   ```bash
   make
    ```
2. Загрузить модуль:
    ```bash
   sudo insmod tmer.ko
    ```
3. Проверить загрузку модуля:
    ```bash
   dmesg
    ```
4. Создать устройство:
    ```bash
   ls /dev/my_char_dev
    ```
5. Управление через файлы устройства:
   Таймер и глобальная переменная могут управляться через специальные файлы. Например, запустить таймер:
    ```bash
   echo 1 > /sys/class/new_dev_1/my_char_dev/start_timer
    ```
   Остановить таймер:
    ```bash
   echo 1 > /sys/class/new_dev_1/my_char_dev/stop_timer
    ```
   Сбросить глобальную переменную:
    ```bash
   echo 1 > /sys/class/new_dev_1/my_char_dev/reset_var
    ```
6. Удалить модуль:
    ```bash
   sudo rmmod tmer
    ```
